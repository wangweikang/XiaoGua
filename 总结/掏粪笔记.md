#掏粪笔记

#### 服务器设置
> 脚本：把多个命令写进一个文件，用sh命令执行这个文件(在第一行添加#！/bin/sh并加上可执行权限可以直接调用)

# linux 主机设置

> 生成 ssh-key

在本机生成 ssh key 公钥私钥
注意  mykey 随便换一个你喜欢的名字, 这是一个标注, 方便看的  ssh-keygen -C mykey
会提示你生成的文件的地址, 并且让你输入密码, 你不要输入密码, 直接回车

这样你就得到了一对 ssh-key, 这是用于登录服务器用的
默认你会得到两个文件
id_rsa 是私钥 自己保存 不要给别人看
id_rsa.pub 是公钥, 是要到处使用的


#### 不想重建服务器, 配置 ssh-key 的方法如下
> 在服务器把本机生成的 public key 添加到 /root/.ssh/authorized_keys 文件中
> 1.用 root 用户登录到服务器, 创建 .ssh 目录
cd /root
mkdir .ssh
> 2.编辑 authorized_keys 文件, 把刚才生成的 id_rsa.pub 文件里面的内容粘贴进去并保存退出
 **注意, 这里可以粘贴多个 key, 一行一个**
nano .ssh/authorized_keys

#### 服务器初始化配置, 复制这些命令粘贴到服务器终端中执行

**安装 配置 打开 ufw 防火墙**
>apt-get install ufw
ufw allow 22
ufw allow 80
ufw allow 443
ufw default deny incoming
ufw default allow outgoing
ufw status verbose  
ufw enable


#### 安装必备软件
>apt-get install git python3 python3-pip python3-setuptools supervisor mongodb redis-server zsh
#### 安装 oh-my-zsh 配置(方便你使用命令行的配置)
>wget https://github.com/robbyrussell/oh-my-zsh/raw/master/tools/install.sh -O - | sh

#### 安装 gunicorn
pip3 install gunicorn



#### 服务器中文编码问题

**编辑下面的文件, 不要拼错**
nano /etc/environment

>LC_CTYPE="en_US.UTF-8"
LC_ALL="en_US.UTF-8"
**加入上面的内容, 保存退出**

**安装docker** 
>curl -fsSL get.docker.com -o get-docker.sh
sudo sh get-docker.sh --mirror Aliyun
