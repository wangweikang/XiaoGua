<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>所有微博</title>
    <style>
        .gua-hide {
        }
    </style>
    <script src="http://cdn.bootcss.com/jquery/3.1.0/jquery.min.js"></script>
</head>
<body>
<!--gua-show-comment-->
    {{weibos}}
    <script>
        $('.gua-show-comment').on('click', function(){
            var weiboId = $(this).data('id')
            // var weiboId = this.dataset.id
            var selector = '#id-div-comment-' + weiboId
            var div = $(selector)
            div.toggleClass('gua-hide')
            // $(selector).toggle()
            var opacity = 0
            var height = '0'
            if(div.hasClass('gua-hide')) {
                opacity = 0
                height = '0'
            } else {
                opacity = 1
                height = '42px'
            }
            div.animate({
                "height": height,
                "opacity": opacity,
            }, "fast");

        })
    </script>
</body>
</html>